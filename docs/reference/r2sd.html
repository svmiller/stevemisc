<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Scale a vector (or vectors) by two standard deviations — r2sd • stevemisc</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.0/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.0/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Scale a vector (or vectors) by two standard deviations — r2sd"><meta name="description" content="r2sd allows you to rescale a numeric vector such that the
ensuing output has a mean of 0 and a standard deviation of .5. r2sd_at is a wrapper for
mutate_at and rename_at from dplyr. It both rescales the supplied vectors to
new vectors and renames the vectors to each have a prefix of z_."><meta property="og:description" content="r2sd allows you to rescale a numeric vector such that the
ensuing output has a mean of 0 and a standard deviation of .5. r2sd_at is a wrapper for
mutate_at and rename_at from dplyr. It both rescales the supplied vectors to
new vectors and renames the vectors to each have a prefix of z_."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">stevemisc</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.8.9</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/svmiller/stevemisc/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Scale a vector (or vectors) by two standard deviations</h1>
      <small class="dont-index">Source: <a href="https://github.com/svmiller/stevemisc/blob/HEAD/R/r2sd.R" class="external-link"><code>R/r2sd.R</code></a></small>
      <div class="d-none name"><code>r2sd.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>r2sd</code> allows you to rescale a numeric vector such that the
ensuing output has a mean of 0 and a standard deviation of .5. <code>r2sd_at</code> is a wrapper for
<code>mutate_at</code> and <code>rename_at</code> from <span class="pkg">dplyr</span>. It both rescales the supplied vectors to
new vectors and renames the vectors to each have a prefix of <code>z_</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">r2sd</span><span class="op">(</span><span class="va">x</span>, na <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>a vector, likely in your data frame</p></dd>


<dt id="arg-na">na<a class="anchor" aria-label="anchor" href="#arg-na"></a></dt>
<dd><p>what to do with NAs in the vector. Defaults to TRUE (i.e. passes over the missing observations)</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>The function returns a numeric vector rescaled with a mean of 0 and a
standard deviation of .5.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>By default, <code>na.rm</code> is set to TRUE. If you have missing data, the function will just pass
over them.</p>
<p>Gelman (2008) argues that rescaling by two standard deviations puts regression inputs
on roughly the same scale no matter their original scale. This allows for some honest, if preliminary,
assessment of relative effect sizes from the regression output. This does that, but
without requiring the <code>rescale</code> function from <span class="pkg">arm</span>.
I'm trying to reduce the packages on which my workflow relies.</p>
<p>Importantly, I tend to rescale only the ordinal and interval inputs and leave the binary inputs as 0/1.
So, my <code>r2sd</code> function doesn't have any of the fancier if-else statements that Gelman's <code>rescale</code>
function has.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Gelman, Andrew. 2008. "Scaling Regression Inputs by Dividing by Two Standard Deviations." <em>Statistics in Medicine</em> 27: 2865–2873.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">r2sd</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [1]  0.58938435  0.18197583  0.58039130  0.91074730  0.01668217 -0.18478770</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [7] -0.01962033 -0.42179684  0.36908293  0.06542483 -0.88627356  0.28892837</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [13] -0.98614536  0.50553860 -0.51143024 -0.23288148  0.31638425 -0.16144326</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [19] -0.07254027  1.07923937  1.02523837  0.21173516  0.01595284  0.21346861</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [25] -0.36107322 -0.05857578 -1.27614690 -0.35787795 -0.22397223  0.15244818</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [31] -0.23264380  0.95027701 -0.03677793 -0.54346030  0.43066237 -0.39212414</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [37] -0.58999446  0.58785329 -0.08272961 -0.05357957  0.17797965  0.60034952</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [43] -0.25598906  0.04699418  0.15419367  0.58142698  0.74035987  0.56813722</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [49] -0.09961741  0.03155173  0.36507027  0.24989286  0.13771068 -0.08150362</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [55]  0.40591857 -0.22073909  1.06251295 -0.14558226 -0.53391304 -0.61590666</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [61]  0.03739685  0.00918478 -0.24785673 -0.34481666  0.39803186 -1.28439892</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [67]  0.42355915 -0.14919976  0.53538693  0.43795067  0.25980651  0.23653250</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [73] -0.31081525 -0.53525793 -0.02476267  0.27148311 -1.27299036 -0.55505474</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [79] -0.67254477 -0.12399040 -1.14078240 -0.22691123 -0.64409311  0.43743081</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [85]  0.15814365 -0.09573691 -0.19889374 -0.21807596  0.06221853  0.08736401</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [91]  0.59476649 -0.18209050  0.70475613  0.33387888  0.25281224 -0.22382176</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [97]  0.29469543  0.21196985 -0.64322852 -0.62643329</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="at.html">r2sd_at</a></span><span class="op">(</span><span class="va">mtcars</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mpg"</span>, <span class="st">"hp"</span>, <span class="st">"disp"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                      mpg cyl  disp  hp drat    wt  qsec vs am gear carb</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Mazda RX4           21.0   6 160.0 110 3.90 2.620 16.46  0  1    4    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Mazda RX4 Wag       21.0   6 160.0 110 3.90 2.875 17.02  0  1    4    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Datsun 710          22.8   4 108.0  93 3.85 2.320 18.61  1  1    4    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Hornet 4 Drive      21.4   6 258.0 110 3.08 3.215 19.44  1  0    3    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Hornet Sportabout   18.7   8 360.0 175 3.15 3.440 17.02  0  0    3    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Valiant             18.1   6 225.0 105 2.76 3.460 20.22  1  0    3    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Duster 360          14.3   8 360.0 245 3.21 3.570 15.84  0  0    3    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 240D           24.4   4 146.7  62 3.69 3.190 20.00  1  0    4    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 230            22.8   4 140.8  95 3.92 3.150 22.90  1  0    4    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 280            19.2   6 167.6 123 3.92 3.440 18.30  1  0    4    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 280C           17.8   6 167.6 123 3.92 3.440 18.90  1  0    4    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 450SE          16.4   8 275.8 180 3.07 4.070 17.40  0  0    3    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 450SL          17.3   8 275.8 180 3.07 3.730 17.60  0  0    3    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 450SLC         15.2   8 275.8 180 3.07 3.780 18.00  0  0    3    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Cadillac Fleetwood  10.4   8 472.0 205 2.93 5.250 17.98  0  0    3    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lincoln Continental 10.4   8 460.0 215 3.00 5.424 17.82  0  0    3    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chrysler Imperial   14.7   8 440.0 230 3.23 5.345 17.42  0  0    3    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Fiat 128            32.4   4  78.7  66 4.08 2.200 19.47  1  1    4    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Honda Civic         30.4   4  75.7  52 4.93 1.615 18.52  1  1    4    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Toyota Corolla      33.9   4  71.1  65 4.22 1.835 19.90  1  1    4    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Toyota Corona       21.5   4 120.1  97 3.70 2.465 20.01  1  0    3    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dodge Challenger    15.5   8 318.0 150 2.76 3.520 16.87  0  0    3    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AMC Javelin         15.2   8 304.0 150 3.15 3.435 17.30  0  0    3    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Camaro Z28          13.3   8 350.0 245 3.73 3.840 15.41  0  0    3    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Pontiac Firebird    19.2   8 400.0 175 3.08 3.845 17.05  0  0    3    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Fiat X1-9           27.3   4  79.0  66 4.08 1.935 18.90  1  1    4    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Porsche 914-2       26.0   4 120.3  91 4.43 2.140 16.70  0  1    5    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lotus Europa        30.4   4  95.1 113 3.77 1.513 16.90  1  1    5    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Ford Pantera L      15.8   8 351.0 264 4.22 3.170 14.50  0  1    5    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Ferrari Dino        19.7   6 145.0 175 3.62 2.770 15.50  0  1    5    6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Maserati Bora       15.0   8 301.0 335 3.54 3.570 14.60  0  1    5    8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Volvo 142E          21.4   4 121.0 109 4.11 2.780 18.60  1  1    4    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                           z_mpg        z_hp      z_disp</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Mazda RX4            0.07544241 -0.26754642 -0.28530991</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Mazda RX4 Wag        0.07544241 -0.26754642 -0.28530991</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Datsun 710           0.22477172 -0.39152023 -0.49509105</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Hornet 4 Drive       0.10862670 -0.26754642  0.11004685</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Hornet Sportabout   -0.11536726  0.20647109  0.52154061</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Valiant             -0.16514370 -0.30400931 -0.02308349</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Duster 360          -0.48039447  0.71695148  0.52154061</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 240D            0.35750889 -0.61759012 -0.33896547</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 230             0.22477172 -0.37693508 -0.36276756</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 280            -0.07388690 -0.17274292 -0.25464959</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 280C           -0.19003192 -0.17274292 -0.25464959</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 450SE          -0.30617694  0.24293397  0.18185654</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 450SL          -0.23151228  0.24293397  0.18185654</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Merc 450SLC         -0.40572981  0.24293397  0.18185654</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Cadillac Fleetwood  -0.80394131  0.42524840  0.97337691</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lincoln Continental -0.80394131  0.49817417  0.92496588</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chrysler Imperial   -0.44721018  0.60756282  0.84428082</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Fiat 128             1.02119472 -0.58841981 -0.61329465</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Honda Civic          0.85527326 -0.69051589 -0.62539740</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Toyota Corolla       1.14563581 -0.59571239 -0.64395497</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Toyota Corona        0.11692278 -0.36234992 -0.44627659</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dodge Challenger    -0.38084159  0.02415666  0.35210200</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AMC Javelin         -0.40572981  0.02415666  0.29562247</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Camaro Z28          -0.56335520  0.71695148  0.48119809</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Pontiac Firebird    -0.07388690  0.20647109  0.68291072</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Fiat X1-9            0.59809500 -0.58841981 -0.61208437</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Porsche 914-2        0.49024605 -0.40610538 -0.44546974</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Lotus Europa         0.85527326 -0.24566869 -0.54713290</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Ford Pantera L      -0.35595337  0.85551044  0.48523234</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Ferrari Dino        -0.03240653  0.20647109 -0.34582370</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Maserati Bora       -0.42232196  1.37328341  0.28351971</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Volvo 142E           0.10862670 -0.27483900 -0.44264576</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Steve Miller.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

