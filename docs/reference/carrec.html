<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Create multivariate data by permutation — carrec • stevemisc</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/journal/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Create multivariate data by permutation — carrec" />
<meta property="og:description" content="This recodes a numeric vector, character vector, or factor according to fairly
simple recode specifications that former Stata users will appreciate. Yes, this is taken
from John Fox's recode() function in his car package. I'm going with carrec()
(i.e. shorthand for car::recode(), phonetically here: &quot;car-wreck&quot;)
for this package, with an additional shorthand of carr that does the same thing.
The goal here is to minimize the number of function clashes with multiple packages
that I use in my workflow. For example: car, dplyr, and Hmisc
all have recode() functions. I rely on the car package just for this function,
but it conflicts with some other tidyverse functions that are vital to my workflow." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">stevemisc</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/svmiller/stevemisc/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create multivariate data by permutation</h1>
    <small class="dont-index">Source: <a href='https://github.com/svmiller/stevemisc/blob/master/R/carrec.R'><code>R/carrec.R</code></a></small>
    <div class="hidden name"><code>carrec.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This recodes a numeric vector, character vector, or factor according to fairly
simple recode specifications that former Stata users will appreciate. Yes, this is taken
from John Fox's <code>recode()</code> function in his <span class="pkg">car</span> package. I'm going with <code>carrec()</code>
(i.e. shorthand for <code><a href='https://rdrr.io/pkg/car/man/recode.html'>car::recode()</a></code>, phonetically here: "car-wreck")
for this package, with an additional shorthand of <code>carr</code> that does the same thing.</p>
<p>The goal here is to minimize the number of function clashes with multiple packages
that I use in my workflow. For example: <span class="pkg">car</span>, <span class="pkg">dplyr</span>, and <span class="pkg">Hmisc</span>
all have <code>recode()</code> functions. I rely on the <span class="pkg">car</span> package just for this function,
but it conflicts with some other <span class="pkg">tidyverse</span> functions that are vital to my workflow.</p>
    </div>

    <pre class="usage"><span class='fu'>carrec</span><span class='op'>(</span><span class='va'>var</span>, <span class='va'>recodes</span>, <span class='va'>as_fac</span>, as_num <span class='op'>=</span> <span class='cn'>TRUE</span>, <span class='va'>levels</span><span class='op'>)</span>

<span class='fu'>carr</span><span class='op'>(</span><span class='va'>...</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>var</th>
      <td><p>numeric vector, character vector, or factor</p></td>
    </tr>
    <tr>
      <th>recodes</th>
      <td><p>character string of recode specifications: see below, but former Stata users will find this stuff familiar</p></td>
    </tr>
    <tr>
      <th>as_fac</th>
      <td><p>return a factor; default is <code>TRUE</code> if <code>var</code> is a factor, <code>FALSE</code> otherwise</p></td>
    </tr>
    <tr>
      <th>as_num</th>
      <td><p>if <code>TRUE</code> (which is the default) and <code>as.factor</code> is <code>FALSE</code>,
the result will be coerced to a numeric if all values in the result are numeric.
This should be what you want in 99% of applications for regression analysis.</p></td>
    </tr>
    <tr>
      <th>levels</th>
      <td><p>an optional argument specifying the order of the levels in the returned factor; the default is to use the sort order of the level names.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>optional, only to make the shortcut (<code>carr</code>) work</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>carrec()</code> returns a vector, recoded to the specifications of the user. <code>carr()</code> is a simple shortcut for <code>carrec()</code>.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Recode specifications appear in a character string, separated by semicolons
(see the examples below), of the form input=output. If an input value satisfies more than one
specification, then the first (from left to right) applies. If no specification is satisfied,
then the input value is carried over to the result. NA is allowed on input and output.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Fox, J. and Weisberg, S. (2019). <em>An R Companion to Applied Regression</em>, Third Edition, Sage.</p>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>John Fox</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>1</span>,<span class='fl'>10</span><span class='op'>)</span>
<span class='fu'>carrec</span><span class='op'>(</span><span class='va'>x</span>,<span class='st'>"0=0;1:2=1;3:5=2;6:10=3"</span><span class='op'>)</span>
</div><div class='output co'>#&gt;  [1] 1 1 2 2 2 3 3 3 3 3</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Steve Miller.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


