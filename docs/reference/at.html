<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Scoped Helper Verbs — center_at • stevemisc</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/journal/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Scoped Helper Verbs — center_at"><meta property="og:description" content="Scoped helper verbs included in this R Documentation file
allow for targeted commands on specified columns. They also rename
the ensuing output to conform to my preferred style. The commands here
are multiple and explained in the details section below."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">stevemisc</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.4.19</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/svmiller/stevemisc/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Scoped Helper Verbs</h1>
    <small class="dont-index">Source: <a href="https://github.com/svmiller/stevemisc/blob/HEAD/R/at.R" class="external-link"><code>R/at.R</code></a></small>
    <div class="hidden name"><code>at.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Scoped helper verbs included in this R Documentation file
allow for targeted commands on specified columns. They also rename
the ensuing output to conform to my preferred style. The commands here
are multiple and explained in the details section below.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">center_at</span><span class="op">(</span><span class="va">data</span>, <span class="va">x</span>, prefix <span class="op">=</span> <span class="st">"c"</span>, na <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>

<span class="fu">diff_at</span><span class="op">(</span><span class="va">data</span>, <span class="va">x</span>, l <span class="op">=</span> <span class="fl">1</span>, prefix <span class="op">=</span> <span class="st">"d"</span><span class="op">)</span>

<span class="fu">group_mean_center_at</span><span class="op">(</span><span class="va">data</span>, <span class="va">x</span>, mean_prefix <span class="op">=</span> <span class="st">"mean"</span>, prefix <span class="op">=</span> <span class="st">"b"</span>, na <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>

<span class="fu">log_at</span><span class="op">(</span><span class="va">data</span>, <span class="va">x</span>, prefix <span class="op">=</span> <span class="st">"ln"</span>, plus_1 <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>

<span class="fu">mean_at</span><span class="op">(</span><span class="va">data</span>, <span class="va">x</span>, prefix <span class="op">=</span> <span class="st">"mean"</span>, na <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>

<span class="fu">r1sd_at</span><span class="op">(</span><span class="va">data</span>, <span class="va">x</span>, prefix <span class="op">=</span> <span class="st">"s"</span>, na <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>

<span class="fu">r2sd_at</span><span class="op">(</span><span class="va">data</span>, <span class="va">x</span>, prefix <span class="op">=</span> <span class="st">"z"</span>, na <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>data</dt>
<dd><p>a data frame</p></dd>


<dt>x</dt>
<dd><p>a vector, likely in your data frame</p></dd>


<dt>prefix</dt>
<dd><p>Allows the user to rename the prefix of the new variables.  Each
function has defaults (see details section).</p></dd>


<dt>na</dt>
<dd><p>what to do with NAs in the vector. Defaults to TRUE
(i.e. passes over the missing observations). Not applicable to <code>diff_at</code>.</p></dd>


<dt>l</dt>
<dd><p>The order of lags for calculating differences in <code>diff_at</code>.
Applicable only to <code>diff_at</code>.</p></dd>


<dt>mean_prefix</dt>
<dd><p>Applicable only to <code>group_mean_center_at</code>. Specifies
the prefix of the (assumed) total population mean variables. Default is "mean",
though the user can change this as they see fit.</p></dd>


<dt>plus_1</dt>
<dd><p>Applicable only to <code>log_at</code>. If TRUE, adds 1 to the
variables prior to log transformation. If FALSE, performs logarithmic
transformation on variables no matter whether 0 occurs (i.e. 0s will
come back as -Inf). Defaults to FALSE.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>The function returns a set of new vectors in a data frame after
performing relevant functions. The new vectors have distinct prefixes
corresponding with the action performed on them.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p><code>center_at</code> is a wrapper for <code>mutate_at</code> and <code>rename_at</code> from
<span class="pkg">dplyr</span>. It takes supplied vectors and effectively centers them from the
mean. It then renames these new variables to have a prefix of <code>c_</code>. The
default prefix ("c") can be changed by way of an argument in the function.</p>
<p><code>diff_at</code> is a wrapper for <code>mutate_at</code> and <code>rename_at</code> from
<span class="pkg">dplyr</span>. It takes supplied vectors and creates differences from the
previous value recorded above it. It then renames these new variables to have
a prefix of <code>d_</code> (in the case of a first difference), or something like
<code>d2_</code> in the case of second differences, or <code>d3_</code> in the case of
third differences (and so on). The exact prefix depends on the <code>l</code>
argument, which communicates the order of lags you want. It defaults to 1. The
default prefix ("d") can be changed by way of an argument in the function.</p>
<p><code>group_mean_center_at</code> is a wrapper for <code>mutate</code> and <code>across</code>
in <span class="pkg">dplyr</span>. It takes supplied vectors and centers an (assumed) group mean
of the variables from an (assumed) total population mean of the variables
provided to it. It then returns the new variables with a prefix, whose default
is <code>b_</code>. This prefix communicates, if you will, a kind of "between"
variable in the panel model context, in juxtaposition to "within" variables
in the panel model context.</p>
<p><code>log_at</code> is a wrapper for <code>mutate_at</code> and <code>rename_at</code> from
<span class="pkg">dplyr</span>. It takes supplied vectors and creates a variable that takes
a natural logarithmic transformation of them. It then renames these new
variables to have a prefix of <code>ln_</code>. This default prefix ("ln") can be
changed by way of an argument in the function.</p>
<p><code>mean_at</code> is a wrapper for <code>mutate_at</code> and <code>rename_at</code> from
<span class="pkg">dplyr</span>. It takes supplied vectors and creates a variable communicating
the mean of the variable. It then renames these new variables to have a
prefix of <code>mean_</code>. This default prefix ("mean") can be changed by way of
an argument in the function.</p>
<p><code>r1sd_at</code> is a wrapper for <code>mutate_at</code> and <code>rename_at</code> from
<span class="pkg">dplyr</span>. It both rescales the supplied vectors to new vectors and renames
the vectors to each have a prefix of <code>s_</code>. Note the rescaling here is
just by one standard deviation and not two. The default prefix ("s") can be
changed by way of an argument in the function.</p>
<p><code>r2sd_at</code> is a wrapper for <code>mutate_at</code> and <code>rename_at</code> from
<span class="pkg">dplyr</span>. It both rescales the supplied vectors to new vectors and renames
the vectors to each have a prefix of <code>z_</code>. Note the rescaling here is by
two standard deviations and not one. The default prefix ("z") can be
changed by way of an argument in the function.</p>
<p>These functions will fail in the absence of a character vector of a length
of one. In which case, you should think about using some other <span class="pkg">dplyr</span>
verb on its own.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"></span>
<span class="r-in"><span class="va">Example</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>category <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="fl">5</span><span class="op">)</span>,</span>
<span class="r-in">                                   <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"B"</span>, <span class="fl">5</span><span class="op">)</span>,</span>
<span class="r-in">                                   <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"C"</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span>,</span>
<span class="r-in">                      x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">15</span><span class="op">)</span>, y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">15</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu">center_at</span><span class="op">(</span><span class="va">Example</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"x"</span>, <span class="st">"y"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    category          x          y         c_x        c_y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1         A 0.74672576 0.41752823  0.21340519 -0.1493581</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2         A 0.14856527 0.83598232 -0.38475530  0.2690960</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3         A 0.89587575 0.18192990  0.36255518 -0.3849564</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4         A 0.39631973 0.39844948 -0.13700084 -0.1684368</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5         A 0.87384983 0.34417597  0.34052926 -0.2227103</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6         B 0.43550339 0.73398220 -0.09781719  0.1670959</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7         B 0.60518333 0.96748654  0.07186275  0.4006002</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8         B 0.02544965 0.95474160 -0.50787092  0.3878553</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9         B 0.80846803 0.13886299  0.27514745 -0.4280233</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10        B 0.64031172 0.99922778  0.10699115  0.4323415</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11        C 0.25293613 0.83591651 -0.28038445  0.2690302</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12        C 0.73604217 0.08408537  0.20272160 -0.4828009</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13        C 0.10544946 0.85101375 -0.42787112  0.2841275</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14        C 0.37755757 0.08334624 -0.15576300 -0.4835401</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15        C 0.95157082 0.67656550  0.41825024  0.1096792</span>
<span class="r-in"></span>
<span class="r-in"><span class="fu">diff_at</span><span class="op">(</span><span class="va">Example</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"x"</span>, <span class="st">"y"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    category          x          y        d_x         d_y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1         A 0.74672576 0.41752823         NA          NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2         A 0.14856527 0.83598232 -0.5981605  0.41845409</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3         A 0.89587575 0.18192990  0.7473105 -0.65405243</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4         A 0.39631973 0.39844948 -0.4995560  0.21651958</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5         A 0.87384983 0.34417597  0.4775301 -0.05427351</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6         B 0.43550339 0.73398220 -0.4383464  0.38980623</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7         B 0.60518333 0.96748654  0.1696799  0.23350434</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8         B 0.02544965 0.95474160 -0.5797337 -0.01274494</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9         B 0.80846803 0.13886299  0.7830184 -0.81587861</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10        B 0.64031172 0.99922778 -0.1681563  0.86036479</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11        C 0.25293613 0.83591651 -0.3873756 -0.16331128</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12        C 0.73604217 0.08408537  0.4831060 -0.75183113</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13        C 0.10544946 0.85101375 -0.6305927  0.76692837</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14        C 0.37755757 0.08334624  0.2721081 -0.76766751</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15        C 0.95157082 0.67656550  0.5740132  0.59321926</span>
<span class="r-in"></span>
<span class="r-in"><span class="fu">diff_at</span><span class="op">(</span><span class="va">Example</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"x"</span>, <span class="st">"y"</span><span class="op">)</span>, l<span class="op">=</span><span class="fl">3</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    category          x          y        d3_x        d3_y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1         A 0.74672576 0.41752823          NA          NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2         A 0.14856527 0.83598232          NA          NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3         A 0.89587575 0.18192990          NA          NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4         A 0.39631973 0.39844948 -0.35040603 -0.01907875</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5         A 0.87384983 0.34417597  0.72528456 -0.49180635</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6         B 0.43550339 0.73398220 -0.46037236  0.55205230</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7         B 0.60518333 0.96748654  0.20886360  0.56903706</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8         B 0.02544965 0.95474160 -0.84840018  0.61056564</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9         B 0.80846803 0.13886299  0.37296464 -0.59511920</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10        B 0.64031172 0.99922778  0.03512839  0.03174124</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11        C 0.25293613 0.83591651  0.22748647 -0.11882510</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12        C 0.73604217 0.08408537 -0.07242585 -0.05477762</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13        C 0.10544946 0.85101375 -0.53486227 -0.14821404</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14        C 0.37755757 0.08334624  0.12462144 -0.75257027</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15        C 0.95157082 0.67656550  0.21552864  0.59248012</span>
<span class="r-in"></span>
<span class="r-in"><span class="fu">log_at</span><span class="op">(</span><span class="va">Example</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"x"</span>, <span class="st">"y"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    category          x          y        ln_x          ln_y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1         A 0.74672576 0.41752823 -0.29205728 -0.8734031252</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2         A 0.14856527 0.83598232 -1.90673088 -0.1791478112</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3         A 0.89587575 0.18192990 -0.10995355 -1.7041338471</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4         A 0.39631973 0.39844948 -0.92553399 -0.9201745734</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5         A 0.87384983 0.34417597 -0.13484673 -1.0666022173</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6         B 0.43550339 0.73398220 -0.83125271 -0.3092705029</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7         B 0.60518333 0.96748654 -0.50222385 -0.0330537650</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8         B 0.02544965 0.95474160 -3.67105319 -0.0463145467</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9         B 0.80846803 0.13886299 -0.21261415 -1.9742674830</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10        B 0.64031172 0.99922778 -0.44580016 -0.0007725154</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11        C 0.25293613 0.83591651 -1.37461828 -0.1792265439</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12        C 0.73604217 0.08408537 -0.30646786 -2.4759226319</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13        C 0.10544946 0.85101375 -2.24952353 -0.1613269960</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14        C 0.37755757 0.08334624 -0.97403222 -2.4847518210</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15        C 0.95157082 0.67656550 -0.04964117 -0.3907260214</span>
<span class="r-in"></span>
<span class="r-in"><span class="fu">log_at</span><span class="op">(</span><span class="va">Example</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"x"</span>, <span class="st">"y"</span><span class="op">)</span>, plus_1 <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    category          x          y      ln_x       ln_y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1         A 0.74672576 0.41752823 0.5577430 0.34891467</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2         A 0.14856527 0.83598232 0.1385136 0.60757966</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3         A 0.89587575 0.18192990 0.6396809 0.16714861</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4         A 0.39631973 0.39844948 0.3338400 0.33536411</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5         A 0.87384983 0.34417597 0.6279950 0.29578116</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6         B 0.43550339 0.73398220 0.3615156 0.55042061</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7         B 0.60518333 0.96748654 0.4732380 0.67675686</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8         B 0.02544965 0.95474160 0.0251312 0.67025801</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9         B 0.80846803 0.13886299 0.5924801 0.13003039</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10        B 0.64031172 0.99922778 0.4948863 0.69276100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11        C 0.25293613 0.83591651 0.2254897 0.60754382</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12        C 0.73604217 0.08408537 0.5516079 0.08073666</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13        C 0.10544946 0.85101375 0.1002520 0.61573346</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14        C 0.37755757 0.08334624 0.3203121 0.08005462</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15        C 0.95157082 0.67656550 0.6686346 0.51674735</span>
<span class="r-in"></span>
<span class="r-in"><span class="fu">mean_at</span><span class="op">(</span><span class="va">Example</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"x"</span>, <span class="st">"y"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    category          x          y    mean_x    mean_y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1         A 0.74672576 0.41752823 0.5333206 0.5668863</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2         A 0.14856527 0.83598232 0.5333206 0.5668863</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3         A 0.89587575 0.18192990 0.5333206 0.5668863</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4         A 0.39631973 0.39844948 0.5333206 0.5668863</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5         A 0.87384983 0.34417597 0.5333206 0.5668863</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6         B 0.43550339 0.73398220 0.5333206 0.5668863</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7         B 0.60518333 0.96748654 0.5333206 0.5668863</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8         B 0.02544965 0.95474160 0.5333206 0.5668863</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9         B 0.80846803 0.13886299 0.5333206 0.5668863</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10        B 0.64031172 0.99922778 0.5333206 0.5668863</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11        C 0.25293613 0.83591651 0.5333206 0.5668863</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12        C 0.73604217 0.08408537 0.5333206 0.5668863</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13        C 0.10544946 0.85101375 0.5333206 0.5668863</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14        C 0.37755757 0.08334624 0.5333206 0.5668863</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15        C 0.95157082 0.67656550 0.5333206 0.5668863</span>
<span class="r-in"></span>
<span class="r-in"><span class="fu">group_mean_center_at</span><span class="op">(</span><span class="fu">mean_at</span><span class="op">(</span><span class="va">Example</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"x"</span>, <span class="st">"y"</span><span class="op">)</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"x"</span>, <span class="st">"y"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>The absence of a grouping factor means you're going to be subtracting a mean from itself. It's up to you if you want to do that. You probably didn't want that, but I did it anyway. I'm just bringing that to your attention.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>The ensuing output for these variables you created are all 0, indicating you subtracted a thing from a different version of itself in this function. Are you sure these mean variables aren't themselves actually group means? Check your code more carefully.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    category          x          y    mean_x    mean_y b_x b_y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1         A 0.74672576 0.41752823 0.5333206 0.5668863   0   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2         A 0.14856527 0.83598232 0.5333206 0.5668863   0   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3         A 0.89587575 0.18192990 0.5333206 0.5668863   0   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4         A 0.39631973 0.39844948 0.5333206 0.5668863   0   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5         A 0.87384983 0.34417597 0.5333206 0.5668863   0   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6         B 0.43550339 0.73398220 0.5333206 0.5668863   0   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7         B 0.60518333 0.96748654 0.5333206 0.5668863   0   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8         B 0.02544965 0.95474160 0.5333206 0.5668863   0   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9         B 0.80846803 0.13886299 0.5333206 0.5668863   0   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10        B 0.64031172 0.99922778 0.5333206 0.5668863   0   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11        C 0.25293613 0.83591651 0.5333206 0.5668863   0   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12        C 0.73604217 0.08408537 0.5333206 0.5668863   0   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13        C 0.10544946 0.85101375 0.5333206 0.5668863   0   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14        C 0.37755757 0.08334624 0.5333206 0.5668863   0   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15        C 0.95157082 0.67656550 0.5333206 0.5668863   0   0</span>
<span class="r-in"><span class="co"># ^ Alternatively, a better way:</span></span>
<span class="r-in"><span class="co"># Example %&gt;%</span></span>
<span class="r-in"><span class="co">#   mean_at(c("x", "y")) %&gt;%</span></span>
<span class="r-in"><span class="co">#   group_by(category) %&gt;%</span></span>
<span class="r-in"><span class="co">#   group_mean_center_at(c("x", "y"))</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu">r1sd_at</span><span class="op">(</span><span class="va">Example</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"x"</span>, <span class="st">"y"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    category          x          y        s_x        s_y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1         A 0.74672576 0.41752823  0.6945870 -0.4335035</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2         A 0.14856527 0.83598232 -1.2522940  0.7810363</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3         A 0.89587575 0.18192990  1.1800375 -1.1173145</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4         A 0.39631973 0.39844948 -0.4459077 -0.4888785</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5         A 0.87384983 0.34417597  1.1083480 -0.6464043</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6         B 0.43550339 0.73398220 -0.3183735  0.4849866</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7         B 0.60518333 0.96748654  0.2338975  1.1627199</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8         B 0.02544965 0.95474160 -1.6530083  1.1257285</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9         B 0.80846803 0.13886299  0.8955445 -1.2423138</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10        B 0.64031172 0.99922778  0.3482327  1.2548471</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11        C 0.25293613 0.83591651 -0.9125898  0.7808452</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12        C 0.73604217 0.08408537  0.6598143 -1.4013028</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13        C 0.10544946 0.85101375 -1.3926265  0.8246641</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14        C 0.37755757 0.08334624 -0.5069744 -1.4034481</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15        C 0.95157082 0.67656550  1.3613127  0.3183378</span>
<span class="r-in"></span>
<span class="r-in"><span class="fu">r2sd_at</span><span class="op">(</span><span class="va">Example</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"x"</span>, <span class="st">"y"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    category          x          y        z_x        z_y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1         A 0.74672576 0.41752823  0.3472935 -0.2167517</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2         A 0.14856527 0.83598232 -0.6261470  0.3905181</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3         A 0.89587575 0.18192990  0.5900187 -0.5586573</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4         A 0.39631973 0.39844948 -0.2229538 -0.2444392</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5         A 0.87384983 0.34417597  0.5541740 -0.3232022</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6         B 0.43550339 0.73398220 -0.1591867  0.2424933</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7         B 0.60518333 0.96748654  0.1169487  0.5813600</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8         B 0.02544965 0.95474160 -0.8265042  0.5628642</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9         B 0.80846803 0.13886299  0.4477723 -0.6211569</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10        B 0.64031172 0.99922778  0.1741163  0.6274236</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11        C 0.25293613 0.83591651 -0.4562949  0.3904226</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12        C 0.73604217 0.08408537  0.3299071 -0.7006514</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13        C 0.10544946 0.85101375 -0.6963133  0.4123321</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14        C 0.37755757 0.08334624 -0.2534872 -0.7017241</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15        C 0.95157082 0.67656550  0.6806563  0.1591689</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Steve Miller.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

